# HashMap初始容量为什么是2的n次幂及扩容为什么是2倍的形式？
> 参考 [HashMap初始容量为什么是2的n次幂及扩容为什么是2倍的形式？](https://blog.csdn.net/weixin_44273302/article/details/113733422)

两个原因:
1.得到的新的数组索引和老数组索引只有最高位区别，更快地得到新索引
2.rehash时的取余操作，hash % length == hash & (length - 1)这个关系只有在length等于二的幂次方时成立，位运算能比%高效得多


# 1. 得到的新的数组索引和老数组索引只有最高位区别，更快地得到新索引

HashMap的初始容量是2的n次幂，扩容也是2倍的形式进行扩容，是因为容量是2的n次幂，可以使得添加的元素均匀分布在HashMap中的数组上，减少hash碰撞，避免形成链表的结构，使得查询效率降低！