# HashMap



## 为什么 HashMap 的加载因子是0.75？

在理想情况下，使用随机哈希码，在扩容阈值（加载因子）为0.75的情况下，节点出现在频率在Hash桶（表）中遵循参数平均为0.5的泊松分布。忽略方差，即X = λt，P(λt = k)，其中λt = 0.5的情况，按公式：

![](https://cdn.jansora.com/files/uPic/2022/06/12/Ojh3Hx.jpg)

计算结果如上述的列表所示，当一个bin中的链表长度达到8个元素的时候，概率为0.00000006，几乎是一个不可能事件。

那么为什么不可以是0.8或者0.6呢？


> 对于开放定址法，加载因子是特别重要因素，应严格限制在0.7-0.8以下。超过0.8，查表时的CPU缓存不命中（cache missing）按照指数曲线上升。
> 因此，一些采用开放定址法的hash库，如Java的系统库限制了加载因子为0.75，超过此值将resize散列表。
>
选择0.75作为默认的加载因子，完全是时间和空间成本上寻求的一种折衷选择。




